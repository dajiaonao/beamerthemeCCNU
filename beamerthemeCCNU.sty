% Wuhan (Central China Mormal University) presentation theme for beamer
%
% Dongliang Zhang <zdl.linqi@gmail.com>, 2011
%
% Changelog:
%
% Version 0.9:
%   First draft version.

\ProvidesPackage{beamerthemeCCNU}[2022/04/21]

\usefonttheme[onlylarge]{structurebold}

%\pgfdeclareimage[width=\paperwidth]{bgd}{bgd}
\pgfdeclareimage[width=.07\paperwidth]{small-logo}{CCNU-logo}
\pgfdeclareimage[width=.12\paperwidth]{large-logo}{CCNU-logo}
%\pgfdeclareimage[height=18pt]{CCNULong}{CCNULong}
\pgfdeclareimage[height=18pt]{CCNULong}{hd_logo}

%%%%%%%%%%%%%%%%%%%%%%%
% Colours
%%%%%%%%%%%%%%%%%%%%%%%
\definecolor{CCNUMaize}{RGB}{0, 149, 182}
% \definecolor{CCNUMaize}{cmyk}{0,0.18,1,0}
% \definecolor{CCNUMaize}{cmyk}{0.05,0.71,1,0.23}
% \definecolor{CCNUMaize}{cmyk}{0.05,0.71,1,0.03}
\definecolor{CCNUBlue}{cmyk}{1,0.6,0,0.6}
\definecolor{SubduedBlue}{RGB}{107,142,168}
\definecolor{CCNUFootcolor}{RGB}{100,100,100}
\pgfdeclarehorizontalshading{doubleShade}
  {1.5pt}{color(0cm)=(white); color(.5\textwidth)=(gray); color(\textwidth)=(white)}
\pgfdeclarehorizontalshading{singleShade}
  {.5pt}{color(0cm)=(gray); color(.8\textwidth)=(gray); color(\textwidth)=(white)}
\pgfdeclarehorizontalshading{footShade}
  {.75pt}{color(0cm)=(gray); color(.8\textwidth)=(white); color(\textwidth)=(gray)}

\usecolortheme[named=CCNUMaize]{structure}
\usecolortheme{rose}
\setbeamercolor{item}{fg=SubduedBlue}
%\setbeamercolor{title}{fg=CCNUMaize,bg=red!20!white}
\setbeamercolor{title}{fg=white,bg=CCNUMaize}
\setbeamercolor{shorttitle}{fg=CCNUMaize,bg=red!20!white}
% \setbeamercolor{title}{fg=CCNUBlue,bg=black!20!white}
\setbeamercolor{block title}{fg=CCNUMaize,bg=CCNUMaize!15!white}
\setbeamercolor{block body}{bg=CCNUMaize!5!white}
\setbeamercolor{normal text}{fg=CCNUBlue,bg=white}
\setbeamercolor{section in head/foot}{parent=palette tertiary, fg=CCNUMaize}
\setbeamercolor{separator}{fg=CCNUMaize}
\setbeamercolor{page number in head/foot}{bg=CCNUMaize!30!white,fg=CCNUMaize}
\setbeamercolor{footline}{bg=CCNUMaize!30!white,fg=CCNUMaize}
\setbeamercolor{mini frame}{fg=SubduedBlue}
\setbeamertemplate{mini frame in other subsection}[default][40]

\setbeamercolor{author}{fg=CCNUBlue}
\setbeamerfont{title}{size=\Large,family=\sffamily,shape=\scshape}
\setbeamerfont{shorttitle}{size=\Large,family=\sffamily,shape=\scshape}
\setbeamerfont{author}{size=\normalsize,family=\sffamily,shape=\itshape}
\setbeamerfont{institute}{series=\bfseries,size=\small,family=\sffamily,shape=\slshape}
\setbeamerfont{date}{size=\scriptsize,family=\sffamily,shape=\upshape}

%%%%%%%%%%%%%%%%%%%%%%%%
% Inner theme
%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{pifont}
\useinnertheme{rounded}
\setbeamertemplate{itemize items}{\ding{113}}
\setbeamertemplate{enumerate items}[default]

%%%%%%%%%%%%%%%%%%%%%%%%
% Outer theme
%%%%%%%%%%%%%%%%%%%%%%%%
%\setbeamertemplate{background canvas}{\pgfuseimage{bgd}}
%\setbeamertemplate{background canvas}{
%\includegraphics[width=\paperwidth]{hd_logo.jpg}
%}
\setbeamertemplate{navigation symbols}{}
% \setbeamercolor{navigation symbols dimmed}{fg=red!80!black}
% \setbeamercolor{navigation symbols}{fg=CCNUBlue}
% \setbeamercolor{section in head/foot}{fg=CCNUBlue,bg=CCNUBlue} 
% \setbeamertemplate{section in head/foot shaded}{\color{gray}\usebeamertemplate{section in head/foot}}


%\setbeamertemplate{frametitle}[default][left]
\setbeamertemplate{frametitle}{
\vskip-2pt\hskip-20pt\insertframetitle
}
%\setbeamersize{sidebar width left=0.5cm,sidebar width right=0.5cm}
%{\usebeamercolor{sidebar}}
%\setbeamertemplate{sidebar canvas left}[horizontal shading]
%[left=white,middle=sidebar.bg,right=white]
%\setbeamertemplate{sidebar canvas right}[horizontal shading]
%[left=white,middle=sidebar.bg,right=white]

\setbeamertemplate{headline}{%
\hypersetup{linkcolor=.}
\vskip1pt\hskip2pt%
\insertsectionnavigationhorizontal{.5\textwidth}{\hskip0pt plus1filll}{}
% \hspace*{23pt}\insertsection\hskip5pt{\usebeamercolor[fg]{separator}-}\hskip5pt\insertsubsection%
%\hfill{\makebox[40pt][r]{\usebeamercolor[fg]{page number in head/foot}\large\insertframenumber/\inserttotalframenumber}}
\vskip1pt\pgfuseshading{doubleShade}\vskip1pt%
\vskip-10pt\hfill{\makebox[40pt][r]{\usebeamercolor[fg]{page number in head/foot}\large\insertframenumber/\inserttotalframenumber\hspace{4pt}}}
}

\setbeamertemplate{section in head/foot}{\insertsectionhead\space}
\setbeamertemplate{subsection in head/foot}{\guillemotright\space\insertsubsectionhead}
\setbeamertemplate{section in head/foot shaded}{\color{gray}\usebeamertemplate{section in head/foot}}

\setbeamertemplate{footline}{%
\hypersetup{linkcolor=.}
% \vskip-15pt
% \pgfuseshading{singleShade}\vskip-8pt%
%\hskip5pt\insertshortauthor\hskip5pt{\usebeamercolor[fg]{separator}-}\hskip5pt \insertshorttitle%
% \vskip2pt\hfill\hskip5pt\pgfuseimage{CCNULong}\hspace*{2pt}\vskip-10pt
% \hskip5pt\insertshortauthor{[ }\insertshortinstitute{ ]}\hskip5pt \insertshorttitle \hskip5pt\insertshortdate
% \hskip5pt\makebox[50pt][l]{\color{black}\insertshortauthor{ [}\insertshortinstitute{]}}\hskip50pt\makebox[110pt][c]{\color{black}\insertshorttitle}\hskip110pt\makebox[10pt][l]{\color{black}\insertshortdate}
\hskip5pt\makebox[50pt][l]{\color{CCNUFootcolor}\insertshortauthor{ [}\insertshortinstitute{]}}\hfill\makebox[110pt][c]{\color{CCNUFootcolor}{\insertshorttitle}}\hfill\makebox[10pt][l]{\color{CCNUFootcolor}\insertshortdate}\hspace{28pt}
% \hskip5pt\makebox[50pt][l]{\color{CCNUFootcolor}\insertshortauthor{ [}\insertshortinstitute{]}}\hfill\makebox[110pt][c]{\color{CCNUFootcolor}{\inserttitle}}\hfill\makebox[10pt][l]{\color{CCNUFootcolor}\insertshortdate}\hspace{28pt}
}

%\addtobeamertemplate{title page}{\vskip20pt}{\vfil\centering%
%\pgfpathrectangle{\pgfpoint{.5\textwidth}{0pt}}{\pgfpoint{\textwidth}{-2pt}}
%\vskip1pt\pgfuseimage{large-logo}\par}{}

\titlegraphic{
\includegraphics[height=1cm]{CCNU-logo}
\includegraphics[height=1cm]{CCNU-logo2}   
}

\setbeamertemplate{title page}
{
%\pgfuseimage{large-logo}
\hfill\pgfuseimage{large-logo}
% \vskip0pt plus 1filll
\vskip25pt
\begin{center}
\usebeamerfont*{title}\usebeamercolor[fg]{title}\inserttitle\par
\bigskip
\usebeamerfont*{author}\usebeamercolor[fg]{author}\insertauthor\par
\smallskip
\usebeamerfont*{institute}\insertinstitute\par
\bigskip
\bigskip
\usebeamerfont*{date}\insertdate
% \usebeamercolor[fg]{titlegraphic}\inserttitlegraphic
\end{center}
\vskip0pt plus 1filll
\setcounter{framenumber}{0}
}


\setbeamertemplate{title page}
{
\vskip45pt
\begin{center}
  \begin{beamercolorbox}[sep=8pt,center,shadow=true,rounded=true]{title}
    \usebeamerfont{title}\inserttitle\par%
  \end{beamercolorbox}
%\usebeamerfont*{title}\usebeamercolor[fg]{title}\inserttitle\par
\bigskip
\usebeamerfont*{author}\usebeamercolor[fg]{author}\insertauthor\par
\smallskip
\usebeamerfont*{institute}\insertinstitute\par
\bigskip
\bigskip
\usebeamerfont*{date}\insertdate
\par
\bigskip
\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic
\end{center}
\vskip0pt plus 1filll
\setcounter{framenumber}{0}
}

%\addtobeamertemplate{title page}{\vskip20pt}{\vfil\centering%
%\pgfpathrectangle{\pgfpoint{0pt}{0pt}}{\pgfpoint{\textwidth}{-2pt}}
%\pgfuseshading{doubleShade}
%\vskip1pt\pgfuseimage{large-logo}\par}{}
